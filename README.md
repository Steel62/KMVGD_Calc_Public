# KMVGD_Calc (Для портфолио)
## Описание

Приложение KMVGD_Calc предназначено для расчета комплектов  механических мер 
внутриглазного давления. Для расчетов используются порядок, описанный в 
Методике поверки, расположенной в папке _backend/manual_.

KMVGD_Calc позволяет провести расчет нового комплекта мер, обеспечивает хранение и 
редактирование уже рассчитанных комплектов, редактирование условий и средств измерения, 
позволяет сформировать протокол измерений для выбранного комплекта в формате xlsx.


Frontend разработан на чистом React без использования Redux или других хранилищ состояния.

Backend построен на фреймворке Express. Для работы с Excel используется библиотека
exceljs. 

Приложение расчитано для запуска на локальной машине без выноса backend`a на отдельный сервер. 
Для упрощения запуска для конечного пользователя под Windows предусмотрен лаунчер
KMVGD_Calc_Launcher.exe, распложенный в папке backend.

## Установка
Установка выполняется командой `npm install`.

## Запуск
Проект в режиме разработки запускается классическим способом для Node.JS способом - командой  
### `npm start`
Благодаря библиотеке _concurrently_ одновременно запускается express и react-scripts.

## Сборка.
После сборки основную функцию приложения выполняет Express, реализующий необходимый REST API
и отдавая статику из папки _public_, в которой содержится собранный frontend.

Для сборки production-версии необходимо выполнить несколько шагов:
* создаем пустую папку и копируем в нее содержимое папки _backend_.
* в папке с production-версией открываем файл config/config.js и меняем значение ключа
kitsPath на './kits'.
* собираем frontend командой `npm run build` и содержимое папки _build_ переносим в 
папку _public_ в prod-версии.
* во вновь созданной папке с финальной сборкой устанавливаем зависимости 
командой `npm install`.
* расскоментировать строку `opn('http://localhost:${port}');` в файле app.js.

##Использование
Инструкция по использованию находится в папке _manual_. В публичной версии удалены скриншоты во
избежании раскрытия информации, представляющей комерческую тайну.

## ВАЖНО!!! 
Версия для портфолио несколько изменена во избежания раскрытия информации, составляющей
комерческую тайну!!

